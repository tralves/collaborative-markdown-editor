webpackJsonp([2,0],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(206),i=a(o),r=n(412),s=a(r),l=n(430),u=a(l),c=n(52),d=a(c);n(356),n(264),n(274),n(263).polyfill(),i.default.use(u.default),new i.default({store:d.default,el:"#app",template:"<App/>",components:{App:s.default}})},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(210);Object.defineProperty(t,"file",{enumerable:!0,get:function(){return a.file}})},33:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(223),i=a(o),r=n(35),s=a(r),l=n(55),u=a(l),c=n(56),d=a(c),f=n(209),p=a(f),h=function(){function e(){(0,u.default)(this,e),this.CLIENT_ID="649336170162-gkip34o9rqpu9tkbtg0ggu5fs792il94.apps.googleusercontent.com",this.SCOPES=["email","profile","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.install"],this.DEFAULT_FIELDS="capabilities(canCopy,canEdit),createdTime,fileExtension,id,mimeType,modifiedTime,name,shared,size,version"}return(0,d.default)(e,[{key:"loadDriveApis",value:function(){return new s.default(function(e,t){!function t(){console.info("loadDriveApi..."),gapi&&gapi.client?s.default.all([gapi.client.load("drive","v3"),gapi.load("picker"),gapi.load("drive-share"),gapi.load("drive-realtime")]).then(function(){console.info("gapi.client.load finished!"),e()}):(setTimeout(function(){return t()},100),console.info("wait for it..."))}()})}},{key:"authorize",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return console.info("authorize"),new s.default(function(a,o){gapi.auth.authorize(e.buildAuthRequest(t,n),function(e){console.info("RESULT!!!!!!!!"),e&&!e.error?(console.info("resolved!"),a()):(console.info("rejected!"),o("Sorry, you are not allowed to open the file..."))})})}},{key:"buildAuthRequest",value:function(e,t){var n={client_id:this.CLIENT_ID,scope:this.SCOPES.join(" "),immediate:e};return t&&(n.login_hint=t,n.authuser=-1),n}},{key:"saveFile",value:function(e,t){var n,a;e.metadata.id?(n="/upload/drive/v3/files/"+encodeURIComponent(e.metadata.id),a="PATCH"):(n="/upload/drive/v3/files",a="POST");var o={mimeType:e.metadata.mimeType,name:t||e.metadata.name},r=(new p.default).append("application/json",(0,i.default)(o)).append(e.metadata.mimeType,e.content).finish();return gapi.client.request({path:n,method:a,params:{uploadType:"multipart",fields:this.DEFAULT_FIELDS},headers:{"Content-Type":r.type},body:r.body})}},{key:"combineAndStoreResults",value:function(e,t){var n={metadata:e,content:t};return n}},{key:"loadFile",value:function(e){var t=this;return new s.default(function(n,a){var o=gapi.client.drive.files.get({fileId:e,fields:t.DEFAULT_FIELDS}),i=gapi.client.drive.files.get({fileId:e,alt:"media"});n(s.default.all([o,i]))}).then(function(e){return{metadata:e[0].result,content:e[1].body}})}},{key:"loadRtDoc",value:function(e,t,n,a,o){var i=this,r=this;return new s.default(function(s,l){gapi.drive.realtime.load(e.metadata.id,function(e){console.log("loaded realtime doc",e),r.contentText=e.getModel().getRoot().get("content"),r.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED,t),r.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED,t),r.filenameText=e.getModel().getRoot().get("filename"),r.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED,n),r.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED,n),e.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_JOINED,a),e.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_LEFT,a),a({target:e,type:"init_collaborators"}),r.cursorsMap=e.getModel().getRoot().get("cursors"),r.cursorsMap.addEventListener(gapi.drive.realtime.EventType.VALUE_CHANGED,o),s(e.getModel())},function(t){console.log("initializing model",t);var n=t.createString(e.content);t.getRoot().set("content",n);var a=t.createString(e.content);t.getRoot().set("filename",a),r.cursorsMap=t.createMap(),t.getRoot().set("cursors",r.cursorsMap)},function(r){console.log("failed realtime load",r),r.type===window.gapi.drive.realtime.ErrorType.TOKEN_REFRESH_REQUIRED?i.authorize(!0).then(function(){i.loadRtDoc(e,t,n,a,o)}).catch(function(){l("Could not authorize")}):r.type===window.gapi.drive.realtime.ErrorType.CLIENT_ERROR?l("An Error happened: "+r.message):r.type===window.gapi.drive.realtime.ErrorType.NOT_FOUND?l("The file does not exist or you do not have permissions to access it."):r.type===window.gapi.drive.realtime.ErrorType.FORBIDDEN&&(l("You do not have access to this file. Try having the owner share it with you from Google Drive."),window.location.href="/")})})}},{key:"showPicker",value:function(){return new s.default(function(e,t){var n=new google.picker.DocsView(google.picker.ViewId.DOCS);n.setMimeTypes("text/markdown"),n.setSelectFolderEnabled(!0),n.setIncludeFolders(!0);var a=(new google.picker.PickerBuilder).setAppId("649336170162").setOAuthToken(gapi.auth.getToken().access_token).addView(n).setCallback(function(n){if("picked"===n.action){var a=n.docs[0].id;e(a)}else"cancel"===n.action&&t("cancel")}).build();a.setVisible(!0)})}},{key:"showSharing",value:function(e){var t=new gapi.drive.share.ShareClient("649336170162");t.setOAuthToken(gapi.auth.getToken().access_token),t.setItemIds([e]),t.showSettingsDialog()}}]),e}();t.default=new h},34:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NEW_FILE="NEW_FILE",t.FILE_SAVED="FILE_SAVED",t.FILE_SAVING="FILE_SAVING",t.FILE_NOT_SAVED="FILE_NOT_SAVED",t.EDIT_CONTENT="EDIT_CONTENT",t.INSERT_CONTENT="INSERT_CONTENT",t.DELETE_CONTENT="DELETE_CONTENT",t.RENAME_FILE="RENAME_FILE",t.LOAD_FILE="LOAD_FILE",t.SET_COLLABORATORS="SET_COLLABORATORS",t.SET_CURSORS="SET_CURSORS"},52:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(206),r=o(i),s=n(51),l=o(s),u=n(53),c=o(u),d=n(212),f=o(d),p=n(211),h=a(p);r.default.use(l.default),console.log("Using Vuex");var m=!1;t.default=new l.default.Store({actions:h,modules:{file:c.default,collaborators:f.default},strict:m})},53:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_LIST=void 0;var o,i=n(57),r=a(i),s=n(90),l=a(s),u=n(34),c=t.STATUS_LIST={INITIAL:"INTIAL",SAVING:"SAVING",SAVED:"SAVED",NOT_SAVED:"NOT_SAVED",DIRTY:"DIRTY"},d={metadata:{name:"New document",id:"no-id"},content:"",status:c.INITIAL},f=(o={},(0,r.default)(o,u.NEW_FILE,function(e,t){e.metadata={id:null,mimeType:"text/markdown",name:t},e.content=""}),(0,r.default)(o,u.FILE_SAVED,function(e,t){l.default.assign(e.metadata,t),e.status=c.SAVED}),(0,r.default)(o,u.FILE_NOT_SAVED,function(e){e.status=c.NOT_SAVED}),(0,r.default)(o,u.FILE_SAVING,function(e){e.status=c.SAVING}),(0,r.default)(o,u.FILE_DIRTY,function(e){e.status=c.DIRTY}),(0,r.default)(o,u.EDIT_CONTENT,function(e,t){e.content=t}),(0,r.default)(o,u.INSERT_CONTENT,function(e,t){var n=t.index,a=t.text,o=e.content;e.content=o.slice(0,n)+a+o.slice(n)}),(0,r.default)(o,u.DELETE_CONTENT,function(e,t){var n=t.index,a=t.text,o=e.content;e.content=o.slice(0,n)+o.slice(n+a.length)}),(0,r.default)(o,u.RENAME_FILE,function(e,t){e.metadata.name=t}),(0,r.default)(o,u.LOAD_FILE,function(e,t){e.metadata=t.metadata,e.content=t.content,e.status=e.status=c.SAVED}),o);t.default={state:d,mutations:f}},209:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),i=a(o),r=n(56),s=a(r),l=function(){function e(){(0,i.default)(this,e),this.boundary=Math.random().toString(36).slice(2),this.mimeType='multipart/mixed; boundary="'+this.boundary+'"',this.parts=[],this.body=null}return(0,s.default)(e,[{key:"append",value:function(e,t){if(null!==this.body)throw new Error("Builder has already been finalized.");return this.parts.push("\r\n--",this.boundary,"\r\n","Content-Type: ",e,"\r\n\r\n",t),this}},{key:"finish",value:function(){if(0===this.parts.length)throw new Error("No parts have been added.");return null===this.body&&(this.parts.push("\r\n--",this.boundary,"--"),this.body=this.parts.join("")),{type:this.mimeType,body:this.body}}}]),e}();t.default=l},210:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.file=void 0;var o=n(35),i=a(o),r=n(33),s=a(r),l=n(52),u=a(l),c=n(84),d=a(c),f=n(345),p=a(f);t.file={model:null,createNewFile:function(e){var t=this;return new i.default(function(n,a){u.default.dispatch("createNewFile",e).then(function(e){s.default.loadRtDoc(e,t.contentEventHandler,t.filenameEventHandler,t.collaboratorEventHandler,t.cursorsMapEventHandler.bind(t)).then(function(){n(e)}).catch(function(){a("rt file not loaded")})}).catch(function(){return a("not loaded")})})},openFromGDrive:function(){var e=this;return new i.default(function(t,n){s.default.showPicker().then(function(a){a!==(0,d.default)(u.default,"state.file.metadata.id")&&e.loadFromGDrive(a).then(function(){return t()}).then(function(e){return n(e)})}).catch(function(){n("not picked")})})},loadFromGDrive:function(e){var t=this;return new i.default(function(n,a){s.default.loadFile(e).then(function(e){return u.default.dispatch("loadFile",e),e}).then(function(e){s.default.loadRtDoc(e,t.contentEventHandler,t.filenameEventHandler,t.collaboratorEventHandler,t.cursorsMapEventHandler.bind(t)).then(function(){u.default.dispatch("updateContent",s.default.contentText.getText()),n(e)}).catch(function(e){a(e)})}).catch(function(e){console.error(e),a(e.result.error.message)})})},contentEventHandler:function(e){console.log("contentEventHandler"),u.default.dispatch("updateContent",s.default.contentText.getText())},filenameEventHandler:function(e){console.log("filenameEventHandler: "+s.default.filenameText.getText()),u.default.dispatch("updateFilename",s.default.filenameText.getText())},collaboratorEventHandler:function(e){console.log("---------------- collaboratorEventHandler: "+(e?e.type:"none")),console.log(e.target.getCollaborators().length+"COLLABORATORS"),e.target.getCollaborators().forEach(function(e){console.log("User ID:"+e.userId),console.log("Session ID:"+e.sessionId),console.log("Name:"+e.displayName),console.log("Color:"+e.color),console.log("IS_ME: "+e.isMe)}),u.default.dispatch("setCollaborators",e.target.getCollaborators())},moveCursor:function(e){this.getMyRegisteredReference(e).index=e},cursorsMapEventHandler:function(e){u.default.dispatch("setCursors",this.getCursors())},getCursors:function(){for(var e=this.garbageCollectCursors(),t=e.keys(),n={},a=0;a<t.length;a++)n[t[a]]=e.get(t[a]).index;return n},garbageCollectCursors:function(){for(var e=s.default.cursorsMap,t=e.keys(),n=0;n<t.length;n++)this.getCollaborator(t[n])?(e.get(t[n]).removeAllEventListeners(),e.get(t[n]).addEventListener(gapi.drive.realtime.EventType.REFERENCE_SHIFTED,this.onReferenceShifted.bind(this))):e.delete(t[n]);return e},getCollaborator:function(e){var t=(0,d.default)(u.default,"state.collaborators.users");return t?(0,p.default)(t,{sessionId:e}):null},getMyCollaborator:function(){var e=(0,d.default)(u.default,"state.collaborators.users");return e?(0,p.default)(e,{isMe:!0}):null},getMyRegisteredReference:function(e){var t=s.default.cursorsMap;if(!t)return null;var n=t.get(this.getMyCollaborator().sessionId);if(n)return n;var a=s.default.contentText.registerReference(e,!0);return a.addEventListener(gapi.drive.realtime.EventType.REFERENCE_SHIFTED,this.onReferenceShifted.bind(this)),s.default.cursorsMap.set(this.getMyCollaborator().sessionId,a),a},onReferenceShifted:function(){u.default.dispatch("setCursors",this.getCursors())},share:function(){return s.default.showSharing((0,d.default)(u.default,"state.file.metadata.id"))}}},211:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=m.default.parse(window.location.search);t.file=e.id,window.history.pushState({},e.name,(window.location.pathname||"")+m.default.stringify(t,!0))}Object.defineProperty(t,"__esModule",{value:!0}),t.setCursors=t.setCollaborators=t.loadFile=t.updateFilename=t.renameFile=t.updateContent=t.editContent=t.saveFile=t.createNewFile=void 0;var r=n(35),s=o(r),l=n(33),u=o(l),c=n(34),d=a(c),f=n(90),p=o(f),h=n(200),m=o(h),v=(t.createNewFile=function(e,t){var n=e.commit,a=e.state;return console.log("Creating new file"),n(d.NEW_FILE,t),new s.default(function(e,o){u.default.saveFile(a.file,t).then(function(e){return n(d.FILE_SAVED,e.result)},function(e){return n(d.FILE_NOT_SAVED)}).then(function(){i(a.file.metadata)}).then(function(){e(a.file)})})},t.saveFile=function(e){var t=e.commit,n=e.state;return console.log("Saving new file"),t(d.FILE_SAVING),new s.default(function(e,a){u.default.saveFile(n.file).then(function(n){t(d.FILE_SAVED,n.result),e()},function(e){t(d.FILE_NOT_SAVED),a(e)})})}),_=p.default.debounce(v,2e3);t.editContent=function(e,t){var n=e.commit,a=e.state;u.default.contentText.setText(t),_({commit:n,state:a}),n(d.FILE_DIRTY)},t.updateContent=function(e,t){var n=e.commit;e.state;n(d.EDIT_CONTENT,t)},t.renameFile=function(e,t){var n=e.commit,a=e.state;console.log("renaming file"),u.default.filenameText.setText(t),_({commit:n,state:a}),n(d.FILE_DIRTY)},t.updateFilename=function(e,t){var n=e.commit;e.state;n(d.RENAME_FILE,t)},t.loadFile=function(e,t){var n=e.commit,a=e.state;n(d.LOAD_FILE,t),i(a.file.metadata)},t.setCollaborators=function(e,t){var n=e.commit;e.state;n(d.SET_COLLABORATORS,t)},t.setCursors=function(e,t){var n=e.commit;e.state;n(d.SET_CURSORS,t)}},212:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(57),r=a(i),s=n(36),l=a(s),u=n(34),c={users:[]},d=(o={},(0,r.default)(o,u.SET_COLLABORATORS,function(e,t){e.users=t}),(0,r.default)(o,u.SET_CURSORS,function(e,t){e.users=e.users.reduce(function(e,n){return t[n.sessionId]&&(n=(0,l.default)({},n,{cursor:t[n.sessionId]})),e.push(n),e},[])}),o);t.default={state:c,mutations:d}},213:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={state:{name:"",image:"",email:""},setUser:function(e){this.state.name=e.name,this.state.image=e.image,this.state.email=e.email}}},214:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(200),i=a(o),r=n(418),s=a(r),l=n(420),u=a(l),c=n(414),d=a(c),f=n(416),p=a(f),h=n(415),m=a(h),v=n(419),_=a(v),g=n(33),y=a(g),E=n(12);t.default={components:{PageHeader:s.default,TextView:p.default,PreviewView:m.default,ProfileMenu:_.default,SideMenu:u.default,"create-new-file-dialog":d.default},data:function(){return{user:null,file:null,errorMessage:""}},mounted:function(){var e=this,t=i.default.parse(window.location.search);this.user=t.user,this.file=t.file,y.default.loadDriveApis().then(function(){console.log("starting authorize"),y.default.authorize(!0,e.user).then(function(){return e.loadThisFile()}).catch(function(t){console.log("error inload or authorize"),e.$refs.login.open()})})},methods:{handleAuthClick:function(){var e=this;this.$refs.login.close(),y.default.authorize(!1,this.user).then(function(){e.loadThisFile()}).catch(function(t){e.errorMessage=t,e.$refs.errorMessage.open()})},loadThisFile:function(){var e=this;return console.log("load file"),this.file?E.file.loadFromGDrive(this.file).catch(function(t){e.errorMessage=t,e.$refs.errorMessage.open()}):void this.openCreateNewFile()},openCreateNewFile:function(){this.$refs.create_new_file.openDialog()},closeErrorMessageCallback:function(){window.location("/")},tryAgain:function(){window.location.reload()}}}},215:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["cursor"]}},216:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(411),i=a(o),r=n(12);t.default={data:function(){return{filename:"New document",gdriveSvg:i.default}},methods:{openDialog:function(){this.filename="New document",this.$refs.create_new_file.open()},createNew:function(){this.$refs.create_new_file.close(),r.file.createNewFile(this.$el.querySelector("#create-filename-input").value)},openFromGDrive:function(){var e=this;r.file.openFromGDrive().then(function(){e.$refs.create_new_file.close()}).catch(function(){console.info("Canceled gapi picker.")})},updateFilename:function(e){this.filename=e.value}}}},217:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(359),i=a(o);t.default={data:function(){return{rm:new i.default({typographer:!0})}},computed:{renderedContent:function(){return this.rm.render(this.$store.state.file.content)}}}},218:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),i=a(o),r=n(51),s=n(12),l=n(410),u=a(l),c=n(413),d=a(c);t.default={components:{CollaboratorCursor:d.default},computed:(0,i.default)({},(0,r.mapState)({fileContent:function(e){return e.file.content},collaborators:function(e){return e.collaborators.users}}),{cursors:function(){var e=this;return this.collaborators.filter(function(e){return"undefined"!=typeof e.cursor&&!e.isMe}).map(function(t){var n=e.$el?(0,u.default)(e.$el.querySelector("textarea"),t.cursor):{top:0,left:0};return{color:t.color,collaboratorName:t.displayName,position:n,sessionId:t.sessionId}},this)}}),watch:{fileContent:function(e){var t=this;this.$nextTick(function(){var e=t.collaborators.find(function(e){return e.isMe});e&&e.cursor&&t.$el.querySelector("textarea").setSelectionRange(e.cursor,e.cursor)})}},methods:(0,i.default)({inputContent:function(e){var t=this;this.$nextTick(function(){t.editContent(e.target.value)})},carretMoved:function(e){this.$nextTick(function(){s.file.moveCursor(e.target.selectionStart)})}},(0,r.mapActions)(["editContent"]))}},219:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["collaborator"]}},220:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),i=a(o),r=n(51),s=n(208),l=a(s),u=n(53),c=n(12),d=n(1),f=a(d),p=n(417),h=a(p);t.default={components:{Collaborator:h.default},data:function(){return{showSavedMoment:!1,now:Date.now()}},computed:(0,i.default)({fileName:function(){var e=this;return this&&this.$refs.filename&&setTimeout(function(){e.$refs.filename.dispatchEvent(new Event("input"))},10),this.$store.state.file.metadata.name},fileStatus:function(){switch(this.$store.state.file.status){case u.STATUS_LIST.INTIAL:return"New file";case u.STATUS_LIST.SAVING:return"Saving...";case u.STATUS_LIST.SAVED:return"Saved "+(0,f.default)(this.$store.state.file.metadata.modifiedTime).from(this.now);case u.STATUS_LIST.NOT_SAVED:return"Could not save to drive";case u.STATUS_LIST.DIRTY:return"Saving..."}}},(0,r.mapState)({fileId:function(e){return e.file.metadata.id},collaborators:function(e){return e.collaborators.users}})),watch:{fileName:function(e,t){"undefined"!=typeof this&&this.$refs.filename.dispatchEvent(new Event("input"))}},methods:(0,i.default)({},(0,r.mapActions)(["renameFile"]),{rename:function(e){console.log("rename to: "+e.target.value),this.renameFile(e.target.value)},openShare:function(){c.file.share()}}),mounted:function(){var e=this;this.$nextTick(function(){(0,l.default)(e.$refs.filename)}),setInterval(function(){e.now=new Date},1e3)}}},221:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(213),i=a(o);t.default={data:function(){return{user:i.default.state}}}},222:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=n(349),r=a(i);t.default={methods:{newFile:function(){window.open("/","_blank"),this.closeNav()},openFile:function(){o.file.openFromGDrive()},openShare:function(){o.file.share()},closeNav:function(){setTimeout(function(){var e=document.querySelector(".mdl-layout__drawer");(0,r.default)(e.classList,"is-visible")!==-1&&document.querySelector(".mdl-layout").MaterialLayout.toggleDrawer()},100)}}}},264:function(e,t){},265:function(e,t){},266:function(e,t){},267:function(e,t){},268:function(e,t){},269:function(e,t){},270:function(e,t){},271:function(e,t){},272:function(e,t){},273:function(e,t){},274:function(e,t){},357:function(e,t,n){function a(e){return n(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./af":92,"./af.js":92,"./ar":98,"./ar-dz":93,"./ar-dz.js":93,"./ar-ly":94,"./ar-ly.js":94,"./ar-ma":95,"./ar-ma.js":95,"./ar-sa":96,"./ar-sa.js":96,"./ar-tn":97,"./ar-tn.js":97,"./ar.js":98,"./az":99,"./az.js":99,"./be":100,"./be.js":100,"./bg":101,"./bg.js":101,"./bn":102,"./bn.js":102,"./bo":103,"./bo.js":103,"./br":104,"./br.js":104,"./bs":105,"./bs.js":105,"./ca":106,"./ca.js":106,"./cs":107,"./cs.js":107,"./cv":108,"./cv.js":108,"./cy":109,"./cy.js":109,"./da":110,"./da.js":110,"./de":112,"./de-at":111,"./de-at.js":111,"./de.js":112,"./dv":113,"./dv.js":113,"./el":114,"./el.js":114,"./en-au":115,"./en-au.js":115,"./en-ca":116,"./en-ca.js":116,"./en-gb":117,"./en-gb.js":117,"./en-ie":118,"./en-ie.js":118,"./en-nz":119,"./en-nz.js":119,"./eo":120,"./eo.js":120,"./es":122,"./es-do":121,"./es-do.js":121,"./es.js":122,"./et":123,"./et.js":123,"./eu":124,"./eu.js":124,"./fa":125,"./fa.js":125,"./fi":126,"./fi.js":126,"./fo":127,"./fo.js":127,"./fr":130,"./fr-ca":128,"./fr-ca.js":128,"./fr-ch":129,"./fr-ch.js":129,"./fr.js":130,"./fy":131,"./fy.js":131,"./gd":132,"./gd.js":132,"./gl":133,"./gl.js":133,"./he":134,"./he.js":134,"./hi":135,"./hi.js":135,"./hr":136,"./hr.js":136,"./hu":137,"./hu.js":137,"./hy-am":138,"./hy-am.js":138,"./id":139,"./id.js":139,"./is":140,"./is.js":140,"./it":141,"./it.js":141,"./ja":142,"./ja.js":142,"./jv":143,"./jv.js":143,"./ka":144,"./ka.js":144,"./kk":145,"./kk.js":145,"./km":146,"./km.js":146,"./ko":147,"./ko.js":147,"./ky":148,"./ky.js":148,"./lb":149,"./lb.js":149,"./lo":150,"./lo.js":150,"./lt":151,"./lt.js":151,"./lv":152,"./lv.js":152,"./me":153,"./me.js":153,"./mi":154,"./mi.js":154,"./mk":155,"./mk.js":155,"./ml":156,"./ml.js":156,"./mr":157,"./mr.js":157,"./ms":159,"./ms-my":158,"./ms-my.js":158,"./ms.js":159,"./my":160,"./my.js":160,"./nb":161,"./nb.js":161,"./ne":162,"./ne.js":162,"./nl":164,"./nl-be":163,"./nl-be.js":163,"./nl.js":164,"./nn":165,"./nn.js":165,"./pa-in":166,"./pa-in.js":166,"./pl":167,"./pl.js":167,"./pt":169,"./pt-br":168,"./pt-br.js":168,"./pt.js":169,"./ro":170,"./ro.js":170,"./ru":171,"./ru.js":171,"./se":172,"./se.js":172,"./si":173,"./si.js":173,"./sk":174,"./sk.js":174,"./sl":175,"./sl.js":175,"./sq":176,"./sq.js":176,"./sr":178,"./sr-cyrl":177,"./sr-cyrl.js":177,"./sr.js":178,"./ss":179,"./ss.js":179,"./sv":180,"./sv.js":180,"./sw":181,"./sw.js":181,"./ta":182,"./ta.js":182,"./te":183,"./te.js":183,"./tet":184,"./tet.js":184,"./th":185,"./th.js":185,"./tl-ph":186,"./tl-ph.js":186,"./tlh":187,"./tlh.js":187,"./tr":188,"./tr.js":188,"./tzl":189,"./tzl.js":189,"./tzm":191,"./tzm-latn":190,"./tzm-latn.js":190,"./tzm.js":191,"./uk":192,"./uk.js":192,"./uz":193,"./uz.js":193,"./vi":194,"./vi.js":194,"./x-pseudo":195,"./x-pseudo.js":195,"./yo":196,"./yo.js":196,"./zh-cn":197,"./zh-cn.js":197,"./zh-hk":198,"./zh-hk.js":198,"./zh-tw":199,"./zh-tw.js":199};a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=357},411:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTcuNzEsMy41TDEuMTUsMTVMNC41OCwyMUwxMS4xMyw5LjVNOS43MywxNUw2LjMsMjFIMTkuNDJMMjIuODUsMTVNMjIuMjgsMTRMMTUuNDIsMkg4LjU4TDguNTcsMkwxNS40MywxNEgyMi4yOFoiIC8+Cjwvc3ZnPg=="},412:function(e,t,n){var a,o;n(266),a=n(214);var i=n(422);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},413:function(e,t,n){var a,o;n(273),a=n(215);var i=n(429);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-7ac053ee",e.exports=a},414:function(e,t,n){var a,o;n(267),a=n(216);var i=n(423);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-18cfa586",e.exports=a},415:function(e,t,n){var a,o;n(268),a=n(217);var i=n(424);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-1cfdb78b",e.exports=a},416:function(e,t,n){var a,o;n(271),a=n(218);var i=n(427);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-526733e4",e.exports=a},417:function(e,t,n){var a,o;n(272),a=n(219);var i=n(428);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-62bb3af4",e.exports=a},418:function(e,t,n){var a,o;n(270),a=n(220);var i=n(426);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},419:function(e,t,n){var a,o;n(269),a=n(221);var i=n(425);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-3537672a",e.exports=a},420:function(e,t,n){var a,o;n(265),a=n(222);var i=n(421);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-141c2144",e.exports=a},421:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"mdl-layout__drawer"},[e._h("span",{staticClass:"mdl-layout-title"})," ",e._h("nav",{staticClass:"mdl-navigation"},[e._h("a",{staticClass:"mdl-navigation__link",attrs:{id:"new-file-button"},on:{click:function(t){e.newFile()}}},[e._h("i",{staticClass:"material-icons"},["insert_drive_file"])," New file\n        "])," ",e._h("a",{staticClass:"mdl-navigation__link",attrs:{id:"open-file-button"},on:{click:function(t){e.openFile()}}},[e._h("i",{staticClass:"material-icons"},["folder_open"])," Open...\n        "])," ",e._h("a",{staticClass:"mdl-navigation__link",attrs:{id:"share-button"},on:{click:function(t){e.openShare()}}},[e._h("i",{staticClass:"material-icons"},["share"])," Share...\n        "])," ",e._h("hr")," ",e._m(0)," ",e._m(1)])])},staticRenderFns:[function(){var e=this;return e._h("a",{staticClass:"mdl-navigation__link",attrs:{href:"https://github.com/tralves/collaborative-markdown-editor",target:"_blank"}},[e._h("i",{staticClass:"material-icons"},["code"])," github\n        "])},function(){var e=this;return e._h("a",{staticClass:"mdl-navigation__link",attrs:{href:"mailto:tralves@gmail.com"}},[e._h("i",{staticClass:"material-icons"},["email"])," tralves@gmail.com\n        "])}]}},422:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{attrs:{id:"app"}},[e._h("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header"},[e._h("page-header")," ",e._h("side-menu")," ",e._h("main",{staticClass:"mdl-layout__content mdl-color--grey-100"},[e._h("div",{staticClass:"page-content"},[e._h("div",{staticClass:"mdl-grid"},[e._h("text-view",{staticClass:"mdl-cell mdl-cell--6-col"})," ",e._h("preview-view",{staticClass:"mdl-cell mdl-cell--6-col"})])," ",e._h("mdl-dialog",{ref:"login",attrs:{"full-width":"",title:"Hi there"}},[e._h("p",["Please log in with your Google Drive account"])," ",e._h("template",{slot:"actions"},[e._h("mdl-button",{attrs:{primary:""},nativeOn:{click:function(t){e.handleAuthClick(t)}}},["Login"])])])," ",e._h("mdl-dialog",{ref:"errorMessage",attrs:{title:":("},on:{close:e.closeErrorMessageCallback}},[e._h("p",[e._s(e.errorMessage)])," ",e._h("template",{slot:"actions"},[e._h("mdl-button",{attrs:{primary:""},nativeOn:{click:function(t){e.tryAgain()}}},["Try again"])])])," ",e._h("pre",{attrs:{id:"output"}})])])," ",e._h("create-new-file-dialog",{ref:"create_new_file"})])])},staticRenderFns:[]}},423:function(e,t){e.exports={render:function(){var e=this;return e._h("mdl-dialog",{ref:"create_new_file",attrs:{"full-width":"",title:"Create new file"}},[e._h("mdl-textfield",{attrs:{"floating-label":"File name",value:e.filename,id:"create-filename-input"}})," ",e._h("template",{slot:"actions"},[e._h("mdl-button",{attrs:{primary:"",id:"create-new-file-button"},nativeOn:{click:function(t){e.createNew()}}},["Create"])," ",e._h("mdl-button",{attrs:{id:"open-from-gdrive-button"},nativeOn:{click:function(t){e.openFromGDrive()}}},["... or open from Google Drive ",e._h("img",{attrs:{src:e.gdriveSvg}})])])])},staticRenderFns:[]}},424:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"preview-container"},[e._h("div",{staticClass:"preview",attrs:{readonly:"readonly"},domProps:{innerHTML:e._s(e.renderedContent)}})])},staticRenderFns:[]}},425:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"demo-avatar-dropdown"},[e._h("img",{staticClass:"avatar",attrs:{src:e.user.image}})," ",e._h("span",[e._s(e.user.email)])," ",e._m(0)," ",e._m(1)])},staticRenderFns:[function(){var e=this;return e._h("button",{staticClass:"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon",attrs:{id:"accbtn"}},[e._h("i",{staticClass:"material-icons",attrs:{role:"presentation"}},["arrow_drop_down"])," ",e._h("span",{staticClass:"visuallyhidden"},["Accounts"])])},function(){var e=this;return e._h("ul",{staticClass:"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect",attrs:{for:"accbtn"}},[e._h("li",{staticClass:"mdl-menu__item"},["logout"])])}]}},426:function(e,t){e.exports={render:function(){var e=this;return e._h("header",{staticClass:"mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600"},[e._h("div",{staticClass:"mdl-layout__header-row"},[e._h("i",{staticClass:"material-icons"},["insert_drive_file"])," ",e._h("input",{ref:"filename",staticClass:"filename",domProps:{value:e.fileName},on:{input:e.rename}})," ",e._h("span",{staticClass:"filestatus"},[e._s(e.fileStatus)+" "+e._s(e.savedMoment)])," "," ",e._h("div",{staticClass:"mdl-layout-spacer"})," ",e._l(e.collaborators,function(t){return e._h("collaborator",{attrs:{collaborator:t}})})," "," ",e._h("nav",{staticClass:"mdl-navigation mdl-layout--large-screen-only"},[e._h("mdl-button",{nativeOn:{click:function(t){e.openShare();
}}},[e._h("i",{staticClass:"material-icons"},["share"])," Share"])])])])},staticRenderFns:[]}},427:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"textarea-container"},[e._h("textarea",{domProps:{value:e.fileContent},on:{input:function(t){e.inputContent(t)},keyup:function(t){e.carretMoved(t)},click:function(t){e.carretMoved(t)}}})," ",e._l(e.cursors,function(t){return e._h("collaborator-cursor",{attrs:{cursor:t}})})])},staticRenderFns:[]}},428:function(e,t){e.exports={render:function(){var e=this;return e._h("div",[e._h("mdl-tooltip",{attrs:{target:e.collaborator.sessionId}},["\n    "+e._s(e.collaborator.displayName)+"\n    "+e._s(e.collaborator.isMe?"(me)":"")])," ",e._h("img",{staticClass:"avatar",style:{borderColor:e.collaborator.color},attrs:{id:e.collaborator.sessionId,src:e.collaborator.photoUrl}})])},staticRenderFns:[]}},429:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"carret-holder",style:{top:e.cursor.position.top+"px",left:e.cursor.position.left+"px"}},[e._h("mdl-tooltip",{attrs:{target:"carret"+e.cursor.sessionId}},["\n    "+e._s(e.cursor.collaboratorName)+"\n  "])," ",e._h("div",{staticClass:"carret",style:{backgroundColor:e.cursor.color},attrs:{id:"carret"+e.cursor.sessionId}})])},staticRenderFns:[]}},431:function(e,t){}});
//# sourceMappingURL=app.a455c553f3458487fa1b.js.map